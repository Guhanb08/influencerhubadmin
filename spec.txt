üì± AskRaghulan App ‚Äì Phase-1 Specification
1. Scope (Phase-1)

Admin App

Post YouTube video links (CRUD).

Mark video as pinned / publish / archive.

Toggle ‚Äúnotify on publish‚Äù.

CRUD Quote of the Day (schedule go-live, mark active, toggle notify).

CRUD Social Links (Instagram, X, YouTube, custom).

Trigger push notifications when:

A video is published (notifyOnPublish=true).

A quote goes live (notifyOnGoLive=true).

Mobile App (end-user)

No login required.

Fetch and display:

Most recent or pinned video.

Quote of the day.

Social media links.

Register device for push notifications.

Receive push on video publish / quote go-live.

2. Data Model (Drizzle schema already shared)
‚úÖ Video

id, youtubeUrl, title, publishedAt

status: video_status (draft | published | archived)

isPinned, notifyOnPublish

Timestamps

‚úÖ Quote

id, text, author

goLiveAt, isActive, notifyOnGoLive

Timestamps

‚úÖ SocialLink

id, platform (free text), label, url

3. APIs
Public Read (for mobile)

GET /v1/home ‚Üí returns most recent video, active quote, social links.

GET /v1/videos?limit=20&cursor=... ‚Üí paginated published videos.

GET /v1/quote/today ‚Üí active quote.

Device Registration

POST /v1/device/register ‚Üí upsert { platform, pushToken, locale }.

4. Admin Flows
Videos

Add/Edit: enter YouTube URL ‚Üí preview title ‚Üí save.

Publish: status=published ‚Üí optional push if notifyOnPublish=true.

Pin/Unpin: reorder homepage priority.

Archive: hide from app.

Quotes

Create: enter text + optional author.

Schedule: set goLiveAt or mark active immediately.

Notify: push if notifyOnGoLive=true.

Social Links

Manage platform name (Instagram/X/YouTube/custom).

Add label + URL.

5. Notifications

Trigger points:

Video published ‚Üí push: New Video: {title}.

Quote goes live ‚Üí push: Quote of the Day.

Pipeline:

Devices register push tokens.

Admin publish / cron scheduler ‚Üí batch send via FCM.

Log events in notification_log.

6. Mobile UX

Home Screen:

Profile card (name + video count).

Quote of the Day.

Most Recent / Pinned Video (YouTube thumbnail auto).

Social links row with icons ‚Üí external browser.

Push Notifications:

Tap video push ‚Üí deep link to video card.

Tap quote push ‚Üí opens app home, scrolls to quote.

7. Tech Stack

Admin App: Next.js (with shadcn/ui) or Nuxt (if Vue-first).

Backend: Supabase (Postgres, Edge Functions, FCM integration).

Mobile App: React Native (Expo).

Push: Firebase Cloud Messaging (FCM).

8. Phase-1 Deliverables

‚úÖ Admin web app (video/quote/social CRUD).

‚úÖ DB migrations (video, quote, social_link, device, notification_log).

‚úÖ REST endpoints (/v1/home, /v1/device/register).

‚úÖ Push notification integration.

‚úÖ Mobile app consuming /v1/home.

9. Out of Scope (Phase-1)

No YouTube API sync (manual link only).

No login/registration for users.

No analytics (click tracking, view counts).

No e-commerce cards (sales/products) or projects section.

10. Success Criteria

Admin can:

Post a YouTube link, mark publish ‚Üí app users receive push.

Create a quote, set go-live ‚Üí app shows it automatically.

Update social links ‚Üí instantly visible in mobile.

Mobile user sees:

Correct most recent/pinned video.

Quote of the Day.

Social links with working redirects.

Push notifications received within seconds.